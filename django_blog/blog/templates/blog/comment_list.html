{% extends "blog/base.html" %} {% block content %}
<div class="container">
  <h2>Comments for: {{ post.title }}</h2>

  {% if comments %}
  <ul class="list-group">
    {% for comment in comments %}
    <li class="list-group-item">
      <strong>{{ comment.author.username }}</strong>
      <small class="text-muted"
        >{{ comment.created_at|date:"F j, Y, g:i a" }}</small
      >
      <p>{{ comment.content }}</p>

      {% if user.is_authenticated and user == comment.author %}
      <a
        href="{% url 'blog:comment-update' post.pk comment.pk %}"
        class="btn btn-sm btn-outline-primary"
        >Edit</a
      >
      <a
        href="{% url 'blog:comment-delete' post.pk comment.pk %}"
        class="btn btn-sm btn-outline-danger"
        >Delete</a
      >
      {% endif %}
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No comments yet. Be the first to comment!</p>
  {% endif %} {% if user.is_authenticated %}
  <a href="{% url 'blog:comment-create' post.pk %}" class="btn btn-success mt-3"
    >Add Comment</a
  >
  {% else %}
  <p><a href="{% url 'blog:login' %}">Log in</a> to add a comment.</p>
  {% endif %}
</div>
{% endblock %}
